<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default-layout}">
<body class="bg-light">
<!--/*@thymesVar id="emailLoginForm" type="com.irostub.studya.controller.form.EmailLoginForm"*/-->
<!--/*@thymesVar id="error" type="java.lang.String"*/-->
<div layout:fragment="content" class="container">
  <div class="row justify-content-center">
  <form class="col-sm-8 my-5" method="post" th:action="@{/email-login}" th:object="${emailLoginForm}">
    <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger alert-dismissible fade show" role="alert">
      <div th:each="error: ${#fields.globalErrors()}" th:text="${error}"></div>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
      <div th:text="${error}"></div>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div th:if="${message}" class="alert alert-success alert-dismissible fade show" role="alert">
      <div th:text="${message}"></div>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <p class="lead text-center">스터디야</p>
    <h2 class="text-center">비밀번호 없이 로그인하기</h2>
    <div class="form-group">
      <label for="email">이메일</label>
      <input id="email" type="email" class="form-control" th:field="*{email}" autocomplete="off" placeholder="Email..."
             aria-describedby="emailHelp"
             required>
      <small id="emailHelp" class="form-text text-muted">
        가입할 때 사용한 이메일을 입력하세요.
      </small>
      <small class="text-danger" th:errors="*{email}"></small>
    </div>
    <div class="form-group">
      <button class="btn btn-primary btn-block" type="submit" aria-describedby="submitHelp">로그인 링크 보내기</button>
    </div>
  </form>
  </div>
</div>
</body>
</html>